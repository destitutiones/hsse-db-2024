# Проект

## Введение

**Цели работы:**
1. Отработка навыков проектирования.
2. Знакомство с DDL-операторами на примере собственной БД.
3. Применение изученных средств языка SQL на самостоятельно спроектированной БД.

Проект является обязательной оцениваемой активностью на курсе. В соответствии с [системой оценивания](https://github.com/destitutiones/hsse-db-2024/blob/main/formal/evaluation_system.md) за проект необходимо набрать не менее 1 балла.

## Проверка

- Задание по проектированию проверяется семинаристами, дедлайны каждой итерации согласовываются с ними же.
- Проверка домашнего задания ручная, а потому не мгновенная.
- Чем раньше до дедлайна происходит отправка **содержательной** части домашнего задания, тем больше времени на внесение правок.


## Постановка

1. Выбрать предметную область, выделить в ней 4-6 сущностей, согласовать с семинаристом.
2. Спроектировать базу данных:
   1. **Концептуальная модель**: все сущности из п.1 с указанием связей в нотации «воронья лапка». 
   2. **Логическая модель**: описание таблиц и их атрибутивного состава, а также указание связей в нотации «воронья 
   лапка». БД должна находиться во 2НФ или в 3НФ, должны отсутствовать связи «многие ко многим».
   Для описания использовать ER-диаграмму.
   3. **Физическая модель**: DDL-скрипты по созданию спроектированной БД с учетом всех необходимых ограничений. В случае недостаточно понятных названий полей предпочтительно добавлять комментарии с пояснениями. Для разнообразия предлагается часть ограничений задавать в самом `CREATE`-запросе, а некоторые – с использованием `ALTER`. 
3. Наполнить созданную базу данными с использованием оператора `INSERT` (не через UI в DataGrip, т.к. ваши скрипты будут запускаться в CI для проверки корректности). В итоге в каждой таблице ожидается не менее 10 записей.
4. Написать не менее 5 `UPDATE`, `DELETE` запросов в сумме.
5. Написать несколько `SELECT`-запросов:
   1. Не менее 5 запросов с использованием `WHERE`, `GROUP BY`, `HAVING`.
   2. Не менее 5 запросов с использованием оконных функций (предпочтительно разных видов – агрегирующих, ранжирующих, смещения).
6. _Предполагающиеся этапы:_
   1. _Создать индексы для таблиц._
   2. _Создать несколько представлений (view)._
   3. _Создать несколько хранимых процедур/функций/триггеров._
   4. _Отработать создание, наполнение и работу с БД с использованием предпочитаемой ORM (желательно с использованием Python)._

_Примечения:_
1. Проект итеративный, потому нельзя получить баллы за написание запросов (пункты 3 и далее), миновав этап проектирования.
2. Каждый этап задания, предполагающий написание запросов, подразумевает наличие комментариев, проясняющих содержание запроса.

### Оформление

**Концептуальная и логическая модель**

Схемы, нарисованные на бумаге или планшете от руки не принимаются. Некоторые варианты сервисов, где можно составить схему БД:
- [lucidchart](http://www.lucidchart.com/) — есть все нужные связи и выглядит приятно, но есть лимит на количество объектов в схеме (около 20, чего для проекта должно хватить).
- [drawio](https://app.diagrams.net/) — отсутствует ограничение на количество элементов в схеме.

В обоих представленных вариантах нужные объекты лучше искать по комбинации "entity relation".

**Написание запросов**

- Все запросы должны быть воспроизводимыми, итерация с нерабочими SQL-скриптами не засчитывается.
- Чуть позже здесь же появится ссылка на репозиторий-пример с заполненным `.gitlab-ci.yml`, чтобы вы могли настроить запуск sql-скриптов в рамках CI.

### Оценивание

- Итоговый балл за проект не может превышать 3.
- За итерацию можно получить неполный балл.
- Оценивание итерации, засланной после дедлайна, согласовывается с семинаристом.
